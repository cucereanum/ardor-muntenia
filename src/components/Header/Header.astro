---
import logo from "../../images/logo.png";
import NavBarItem from "../NavBar/NavBarItem.astro";
import NavBarDesktop from "./NavBarDesktop.astro";
---

<header>
  <div class="container">
    <div class="logo">
      <a class="logo-icon" href="#">
        <img src={logo} alt="Ardor Muntenia" />
      </a>
    </div>

    <div class="navbar-desktop">
      <NavBarDesktop />
    </div>

    <nav class="navbar-mobile">
      <svg
        width="35"
        height="35"
        viewBox="0 0 35 35"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="close"
      >
        <path
          d="M28.3281 6.6719C27.9179 6.26181 27.3616 6.03143 26.7815 6.03143C26.2015 6.03143 25.6452 6.26181 25.235 6.6719L17.5 14.4069L9.76497 6.6719C9.3524 6.27343 8.79984 6.05294 8.22628 6.05793C7.65273 6.06291 7.10407 6.29297 6.69849 6.69855C6.29291 7.10413 6.06286 7.65278 6.05787 8.22634C6.05289 8.79989 6.27338 9.35246 6.67185 9.76503L14.4068 17.5L6.67185 25.235C6.27338 25.6476 6.05289 26.2002 6.05787 26.7737C6.06286 27.3473 6.29291 27.8959 6.69849 28.3015C7.10407 28.7071 7.65273 28.9371 8.22628 28.9421C8.79984 28.9471 9.3524 28.7266 9.76497 28.3282L17.5 20.5932L25.235 28.3282C25.6475 28.7266 26.2001 28.9471 26.7737 28.9421C27.3472 28.9371 27.8959 28.7071 28.3014 28.3015C28.707 27.8959 28.9371 27.3473 28.9421 26.7737C28.9471 26.2002 28.7266 25.6476 28.3281 25.235L20.5931 17.5L28.3281 9.76503C28.7382 9.35481 28.9686 8.79851 28.9686 8.21847C28.9686 7.63842 28.7382 7.08212 28.3281 6.6719Z"
          fill="white"></path>
      </svg>

      <ul>
        <li class="menu-nav-item">
          <h4 class="nav-item-text">
            <a class="nav-item nav-item-home" href="#">Home</a>
          </h4>
        </li>
        <NavBarItem
          id="1"
          title="Cine suntem?"
          navItems={[
            "Viziune",
            "Proiecte",
            "Echipa",
            "Susținători",
            "Susține-ne",
          ]}
        />
        <NavBarItem
          id="2"
          title="Dezbateri"
          navItems={[
            "Ce sunt?",
            "Beneficii",
            "Competiții",
            "Opurtunități",
            "Cursuri",
            "Calendar",
            "Arhivă",
          ]}
        />
        <NavBarItem
          id="3"
          title="Cum fac dezbateri?"
          navItems={["Clubul", "Opțional DOR", "Profesioniști"]}
        />
        <NavBarItem
          id="4"
          title="Resurse Date"
          navItems={["Elevi", "Profesori"]}
        />
        <NavBarItem id="5" title="Contact" />
      </ul>
    </nav>

    <div class="menu">
      <svg
        width="35"
        height="35"
        viewBox="0 0 35 35"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M4.375 6.5625H30.625V8.75H4.375V6.5625ZM4.375 26.25H30.625V28.4375H4.375V26.25ZM4.375 13.125H30.625V15.3125H4.375V13.125ZM4.375 19.6875H30.625V21.875H4.375V19.6875Z"
          fill="#EA2340"></path>
      </svg>
    </div>
  </div>
</header>

<script is:inline>
  const menu = document.querySelector(".menu");
  const close = document.querySelector(".close");
  const nav = document.querySelector("nav");

  menu.addEventListener("click", () => {
    nav.classList.add("open-nav");
  });
  close.addEventListener("click", () => {
    nav.classList.remove("open-nav");
  });
</script>

<style>
  a {
    text-decoration: none;
    color: #fff;
  }
  .container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin: 0 3em;
    padding: 1em 0;
  }
  .close {
    float: right;
    margin: 2em;
    width: 2.5em;
    cursor: pointer;
  }
  nav.navbar-mobile {
    overflow: scroll;
    position: fixed;
    right: 0;
    top: 0;
    height: 100vh;
    width: 50%;
    background: #ea2340;
    z-index: 999;
    transform: translateX(100%);
    transition: transform 0.5s ease-in-out;
  }

  .logo-icon {
    cursor: pointer;
  }

  .nav-item {
    color: rgb(255, 255, 255);
    font-size: 1rem;
    font-family: "Poppins-Bold", sans-serif;
    padding: 0.75em 2em;
    display: block;
    text-decoration: none;
  }
  .nav-item-home {
    background: #c4132c;
  }
  .nav-item-text {
    margin: 0;
  }
  .nav-item-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .menu {
    cursor: pointer;
  }
  .menu-nav-item .nav-item-sub-container {
    display: none;
    margin-bottom: 1em;
  }

  .nav-item-sub-container-display {
    display: block;
    margin-bottom: 1em;
    animation: moveDown 0.5s ease-in-out forwards;
  }

  .open-nav {
    transform: translateX(0%);
  }
  ul {
    list-style-type: none;
    padding: 0;
    margin-top: 8em;
  }

  .sub-container-text {
    color: #fff;
    font-size: 1rem;
    font-family: "Poppins-Medium";
    margin: 0.5rem auto 0 auto;
    padding-left: 3em;
    padding-top: 0.2em;
    padding-bottom: 0.2em;
  }
  .navbar-desktop {
    display: none;
  }
  @media only screen and (min-width: 680px) {
    .navbar-desktop {
      display: none;
    }
    .container {
      margin: 0 6em;
    }
  }

  @media only screen and (min-width: 1024px) {
    .navbar-mobile {
      display: none;
    }
    .navbar-desktop {
      display: block;
    }
    .menu {
      display: none;
    }
    .container {
      margin: 0 6em;
    }
    /* nav {
      transform: translateX(0);
      position: unset;
      width: auto;
      height: auto;
      background: none;
    }
    .nav-item-home {
      background: #ea2340;
      color: #fff !important;
      padding: 1em !;
    }
    ul {
      display: flex;
      margin-top: 1em;
    } */
  }

  @media only screen and (min-width: 1160px) {
    .container {
      margin: 0 8em;
    }
  }

  @media only screen and (min-width: 1440px) {
    .container {
      margin: 0 10em;
    }
  }

  @keyframes moveDown {
    from {
      transform: translateY(-20px);
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
</style>
